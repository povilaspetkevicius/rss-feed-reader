(this["webpackJsonpfeed-reader-app"]=this["webpackJsonpfeed-reader-app"]||[]).push([[0],{31:function(e,t,a){e.exports=a(61)},36:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),c=a.n(l),i=(a(36),a(10)),s=a(1),o=a(7),u=a(29),m=a.n(u),p=a(12),d=a.n(p),f="http://".concat("localhost:8080","/api"),E={minWidth:"10rem",maxWidth:"40rem",borderRadius:"10px",border:"1px solid",marginLeft:"10px",marginTop:"10px"},b={width:"90%",display:"inline-block",margin:"10px"},h={width:"90%",display:"inline-block",margin:"10px"},g={marginLeft:"10px",marginTop:"10px",float:"left",width:"35%"},x={float:"right",width:"60%",marginRight:"10px",marginTop:"10px"},y={width:"20%",align:"left",margin:"10px"},v={marginLeft:"10px",marginBottom:"10px",fontWeight:"bold"};var j=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),i=Object(o.a)(c,2),s=i[0],u=i[1],p=Object(n.useState)({status:null,errorMsg:null}),j=Object(o.a)(p,2),O=j[0],S=j[1];return r.a.createElement("div",{style:E},r.a.createElement("h4",{style:b},"Add XML RSS feed"),r.a.createElement("br",null),r.a.createElement("p",{style:h},r.a.createElement("i",null,"Please provide new XML RSS feed information")),r.a.createElement("form",{onSubmit:function(e){var t;e.preventDefault(),(t={url:a,feedName:s,lastUpdate:m()(new Date).format("ddd, DD MMM YYYY HH:mm:ss ZZ")},d.a.post("".concat(f,"/feeds"),t).then((function(e){return e})).catch((function(e){throw e}))).then((function(){return S({status:!1})})).catch((function(e){S({status:!0,errorMsg:e.response.data.message})}))}},r.a.createElement("label",{style:g},"XML RSS Feed URL: "),r.a.createElement("input",{type:"text",style:x,onChange:function(e){return l(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("label",{style:g},"XML RSS Feed Name: "),r.a.createElement("input",{type:"text",style:x,onChange:function(e){return u(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Add Feed",style:y}),r.a.createElement("p",{style:v},!0===O.status&&r.a.createElement("i",null,"We couldn't save that feed. Cause: ",O.errorMsg,". Try again!"),!1===O.status&&r.a.createElement("i",null,"Feed saved!"))))},O=a(11),S=a.n(O),w=a(14),k=a(17);var L=function(e){var t=e.item;return r.a.createElement("div",{style:{margin:"5px"}},t.link&&t.title&&r.a.createElement("a",{href:t.link},t.title),t.description&&r.a.createElement("p",null,r.a.createElement("i",null,t.description)))},M="http://".concat("localhost:8080","/api"),R={width:"50%",float:"center",margin:"10px"},T={margin:"10px"},W={borderTop:"1px solid",borderLeft:"1px solid",paddingLeft:"10px",paddingTop:"5px"};var F=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(!1),s=Object(o.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)(e.feed),f=Object(o.a)(p,2),E=f[0],b=f[1];return Object(n.useEffect)((function(){console.log(E),d.a.get("".concat(M,"/feeds/").concat(E.id)).then((function(e){b(e.data)})).catch((function(e){m(!0)}))}),[e.feed]),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){c(!l)},style:R},E.feedName),l&&r.a.createElement("div",{style:T},u&&r.a.createElement("p",null,r.a.createElement("i",null,"We couldn't refresh this feed - sorry!..")),E.title&&r.a.createElement("div",{style:W},r.a.createElement("label",null,"RSS Feed"),r.a.createElement("p",null,r.a.createElement("b",null,E.title))),E.url&&r.a.createElement("div",{style:Object(k.a)(Object(k.a)({},W),{},{marginBottom:"10px"})},r.a.createElement("a",{href:E.url},"Link to feed")),E.lastUpdate&&r.a.createElement("div",{style:W},r.a.createElement("label",null,"Last time updated"),r.a.createElement("p",null,r.a.createElement("b",null,E.lastUpdate))),E.items.length>0&&r.a.createElement("div",{style:W},r.a.createElement("label",null,"Most recent stories"),Object.keys(E.items).map((function(e){return r.a.createElement(L,{key:e,item:E.items[e]})})))))},X="http://".concat("localhost:8080","/api"),C={minWidth:"10rem",maxWidth:"40rem",borderRadius:"10px",border:"1px solid",marginLeft:"10px",marginTop:"10px"},D={width:"90%",display:"inline-block",margin:"10px"},U={width:"90%",marginLeft:"10px"},Y=function(){var e=Object(w.a)(S.a.mark((function e(){var t,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(X,"/feeds"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var A=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){function e(){return(e=Object(w.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:t=e.sent,l(Object.keys(t).map((function(e){return r.a.createElement(F,{key:e,feed:t[e]})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",{style:C},r.a.createElement("h4",{style:D},"XML RSS Feed"),r.a.createElement("p",{style:U},r.a.createElement("i",null,"Please find a list of all available feeds")),a)},B={margin:"10px"},N={margin:"10px"};var H=function(){return r.a.createElement("div",null,r.a.createElement("h2",{style:B},"RSS Reader"),r.a.createElement("div",null,r.a.createElement(i.b,{style:N,to:"/view"},"View feed list"),r.a.createElement(i.b,{style:N,to:"/create"},"Add new feed")," "),r.a.createElement(s.c,null,r.a.createElement(s.a,{component:j,path:"/create"}),r.a.createElement(s.a,{component:A,path:"/view"}),r.a.createElement(s.a,{component:A,exact:!0,path:"/"})))};c.a.render(r.a.createElement(i.a,null,r.a.createElement(H,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.062f1a47.chunk.js.map