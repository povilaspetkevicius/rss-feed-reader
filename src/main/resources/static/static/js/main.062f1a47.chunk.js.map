{"version":3,"sources":["components/FeedForm.js","components/Item.js","components/FeedDetail.js","components/FeedList.js","components/App.js","index.js"],"names":["APIURL","process","formContainer","minWidth","maxWidth","borderRadius","border","marginLeft","marginTop","header","width","display","margin","textBlock","inputLabel","float","textInput","marginRight","submitButton","align","submitStatusMessage","marginBottom","fontWeight","FeedForm","useState","url","setUrl","name","setName","status","errorMsg","showErrorMsg","setShowErrorMsg","style","onSubmit","evt","input","preventDefault","feedName","lastUpdate","moment","Date","format","axios","post","then","response","catch","e","data","message","type","onChange","target","value","Item","props","item","link","title","href","description","feedButton","detailsContainer","detail","borderTop","borderLeft","paddingLeft","paddingTop","FeedDetail","showDetail","setShowDetail","showRefreshErrorMsg","setShowRefreshErrorMsg","feed","setFeed","useEffect","console","log","get","id","onClick","items","length","Object","keys","map","key","listContainer","getFeeds","a","fetch","res","json","FeedList","feeds","setFeeds","savedFeeds","fetchFeeds","nav_links","App","to","component","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.062f1a47.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport moment from 'moment';\nimport axios from 'axios';\n\nconst APIURL = `http://${process.env.REACT_APP_API_URL}/api`;\n\nconst formContainer = {\n\tminWidth: '10rem',\n\tmaxWidth: '40rem',\n\tborderRadius: '10px',\n\tborder: '1px solid',\n\tmarginLeft: '10px',\n\tmarginTop: '10px',\n};\n\nconst header = {\n\twidth: '90%',\n\tdisplay: 'inline-block',\n\tmargin: '10px',\n};\n\nconst textBlock = {\n\twidth: '90%',\n\tdisplay: 'inline-block',\n\tmargin: '10px',\n};\n\nconst inputLabel = {\n\tmarginLeft: '10px',\n\tmarginTop: '10px',\n\tfloat: 'left',\n\twidth: '35%',\n};\n\nconst textInput = {\n\tfloat: 'right',\n\twidth: '60%',\n\tmarginRight: '10px',\n\tmarginTop: '10px',\n};\n\nconst submitButton = {\n\twidth: '20%',\n\talign: 'left',\n\tmargin: '10px',\n};\n\nconst submitStatusMessage = {\n\tmarginLeft: '10px',\n\tmarginBottom: '10px',\n\tfontWeight: 'bold',\n};\n\nconst callService = (input) => {\n\tconst callback = axios\n\t\t.post(`${APIURL}/feeds`, input)\n\t\t.then((response) => {\n\t\t\treturn response;\n\t\t})\n\t\t.catch((e) => {\n\t\t\tthrow e;\n\t\t});\n\treturn callback;\n};\n\nfunction FeedForm() {\n\tconst [url, setUrl] = useState('');\n\tconst [name, setName] = useState('');\n\tconst [showErrorMsg, setShowErrorMsg] = useState({\n\t\tstatus: null,\n\t\terrorMsg: null,\n\t});\n\tfunction saveFeed(evt) {\n\t\tevt.preventDefault();\n\n\t\tcallService({\n\t\t\turl: url,\n\t\t\tfeedName: name,\n\t\t\tlastUpdate: moment(new Date()).format('ddd, DD MMM YYYY HH:mm:ss ZZ'),\n\t\t})\n\t\t\t.then(() => setShowErrorMsg({ status: false }))\n\t\t\t.catch((e) => {\n\t\t\t\tsetShowErrorMsg({ status: true, errorMsg: e.response.data.message });\n\t\t\t});\n\t}\n\treturn (\n\t\t<div style={formContainer}>\n\t\t\t<h4 style={header}>Add XML RSS feed</h4>\n\t\t\t<br />\n\t\t\t<p style={textBlock}>\n\t\t\t\t<i>Please provide new XML RSS feed information</i>\n\t\t\t</p>\n\t\t\t<form onSubmit={saveFeed}>\n\t\t\t\t<label style={inputLabel}>XML RSS Feed URL: </label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tstyle={textInput}\n\t\t\t\t\tonChange={(e) => setUrl(e.target.value)}\n\t\t\t\t></input>\n\t\t\t\t<br />\n\t\t\t\t<label style={inputLabel}>XML RSS Feed Name: </label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tstyle={textInput}\n\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\t\t\t\t></input>\n\t\t\t\t<br />\n\t\t\t\t<input type=\"submit\" value=\"Add Feed\" style={submitButton}></input>\n\t\t\t\t<p style={submitStatusMessage}>\n\t\t\t\t\t{showErrorMsg.status === true && (\n\t\t\t\t\t\t<i>\n\t\t\t\t\t\t\tWe couldn't save that feed. Cause: {showErrorMsg.errorMsg}. Try\n\t\t\t\t\t\t\tagain!\n\t\t\t\t\t\t</i>\n\t\t\t\t\t)}\n\t\t\t\t\t{showErrorMsg.status === false && <i>Feed saved!</i>}\n\t\t\t\t</p>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n\nexport default FeedForm;\n","import React from 'react';\n\nfunction Item(props) {\n\tconst item = props.item;\n\treturn (\n\t\t<div style={{ margin: '5px' }}>\n\t\t\t{item.link && item.title && <a href={item.link}>{item.title}</a>}\n\t\t\t{item.description && (\n\t\t\t\t<p>\n\t\t\t\t\t<i>{item.description}</i>\n\t\t\t\t</p>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default Item;\n","import React, { useState, useEffect } from 'react';\nimport Item from './Item';\nimport axios from 'axios';\n\nconst APIURL = `http://${process.env.REACT_APP_API_URL}/api`;\n\nconst feedButton = {\n\twidth: '50%',\n\tfloat: 'center',\n\tmargin: '10px',\n};\n\nconst detailsContainer = {\n\tmargin: '10px',\n};\n\nconst detail = {\n\tborderTop: '1px solid',\n\tborderLeft: '1px solid',\n\tpaddingLeft: '10px',\n\tpaddingTop: '5px',\n};\n\nfunction FeedDetail(props) {\n\tconst [showDetail, setShowDetail] = useState(false);\n\tconst [showRefreshErrorMsg, setShowRefreshErrorMsg] = useState(false);\n\tfunction showFeed() {\n\t\tsetShowDetail(!showDetail);\n\t}\n\tconst [feed, setFeed] = useState(props.feed);\n\tuseEffect(() => {\n\t\tconsole.log(feed);\n\t\tfunction updateFeed() {\n\t\t\taxios\n\t\t\t\t.get(`${APIURL}/feeds/${feed.id}`)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetFeed(response.data);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tsetShowRefreshErrorMsg(true);\n\t\t\t\t});\n\t\t}\n\t\tupdateFeed();\n\t}, [props.feed]);\n\n\treturn (\n\t\t<div>\n\t\t\t<button onClick={showFeed} style={feedButton}>\n\t\t\t\t{feed.feedName}\n\t\t\t</button>\n\t\t\t{showDetail && (\n\t\t\t\t<div style={detailsContainer}>\n\t\t\t\t\t{showRefreshErrorMsg && (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<i>We couldn't refresh this feed - sorry!..</i>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\t\t\t\t\t{feed.title && (\n\t\t\t\t\t\t<div style={detail}>\n\t\t\t\t\t\t\t<label>RSS Feed</label>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<b>{feed.title}</b>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{feed.url && (\n\t\t\t\t\t\t<div style={{ ...detail, marginBottom: '10px' }}>\n\t\t\t\t\t\t\t<a href={feed.url}>Link to feed</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{feed.lastUpdate && (\n\t\t\t\t\t\t<div style={detail}>\n\t\t\t\t\t\t\t<label>Last time updated</label>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<b>{feed.lastUpdate}</b>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{feed.items.length > 0 && (\n\t\t\t\t\t\t<div style={detail}>\n\t\t\t\t\t\t\t<label>Most recent stories</label>\n\t\t\t\t\t\t\t{Object.keys(feed.items).map((key) => {\n\t\t\t\t\t\t\t\treturn <Item key={key} item={feed.items[key]} />;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default FeedDetail;\n","import React, { useState, useEffect } from 'react';\nimport FeedDetail from './FeedDetail';\n\nconst APIURL = `http://${process.env.REACT_APP_API_URL}/api`;\n\nconst listContainer = {\n\tminWidth: '10rem',\n\tmaxWidth: '40rem',\n\tborderRadius: '10px',\n\tborder: '1px solid',\n\tmarginLeft: '10px',\n\tmarginTop: '10px',\n};\n\nconst header = {\n\twidth: '90%',\n\tdisplay: 'inline-block',\n\tmargin: '10px',\n};\n\nconst textBlock = {\n\twidth: '90%',\n\tmarginLeft: '10px',\n};\n\nconst getFeeds = async () => {\n\tconst res = await fetch(`${APIURL}/feeds`);\n\tconst data = await res.json();\n\treturn data;\n};\n\nfunction FeedList() {\n\tconst [feeds, setFeeds] = useState([]);\n\n\tuseEffect(() => {\n\t\tasync function fetchFeeds() {\n\t\t\tconst savedFeeds = await getFeeds();\n\t\t\tsetFeeds(\n\t\t\t\tObject.keys(savedFeeds).map((key) => {\n\t\t\t\t\treturn <FeedDetail key={key} feed={savedFeeds[key]} />;\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t\tfetchFeeds();\n\t}, []);\n\n\treturn (\n\t\t<div style={listContainer}>\n\t\t\t<h4 style={header}>XML RSS Feed</h4>\n\t\t\t<p style={textBlock}>\n\t\t\t\t<i>Please find a list of all available feeds</i>\n\t\t\t</p>\n\t\t\t{feeds}\n\t\t</div>\n\t);\n}\n\nexport default FeedList;\n","import React from 'react';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport FeedForm from './FeedForm';\nimport FeedList from './FeedList';\n\nconst header = {\n\tmargin: '10px',\n};\n\nconst nav_links = {\n\tmargin: '10px',\n};\n\nfunction App() {\n\treturn (\n\t\t<div>\n\t\t\t<h2 style={header}>RSS Reader</h2>\n\t\t\t<div>\n\t\t\t\t<Link style={nav_links} to=\"/view\">\n\t\t\t\t\tView feed list\n\t\t\t\t</Link>\n\t\t\t\t<Link style={nav_links} to=\"/create\">\n\t\t\t\t\tAdd new feed\n\t\t\t\t</Link>{' '}\n\t\t\t</div>\n\n\t\t\t<Switch>\n\t\t\t\t<Route component={FeedForm} path=\"/create\" />\n\t\t\t\t<Route component={FeedList} path=\"/view\" />\n\t\t\t\t<Route component={FeedList} exact path=\"/\" />\n\t\t\t</Switch>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n\t<BrowserRouter>\n\t\t<App />\n\t</BrowserRouter>,\n\tdocument.getElementById('root'),\n);\n"],"sourceRoot":""}